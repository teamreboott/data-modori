2023-12-13 14:35:14.672 | INFO     | data_juicer.config.config:config_backup:456 - Back up the input config file [/home/kyuheon/jy_workspace/reboott_llm_pipeline/data-juicer/./configs/process.yaml] into the work_dir [./output]
2023-12-13 14:35:14.678 | INFO     | data_juicer.config.config:display_config:477 - Configuration table: 
╒════════════════════════╤════════════════════════════════════════════════════════════════════════════════════════════════════╕
│ key                    │ values                                                                                             │
╞════════════════════════╪════════════════════════════════════════════════════════════════════════════════════════════════════╡
│ config                 │ [Path_fr(./configs/process.yaml, cwd=/home/kyuheon/jy_workspace/reboott_llm_pipeline/data-juicer)] │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ hpo_config             │ None                                                                                               │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ project_name           │ 'demo-process'                                                                                     │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ executor_type          │ 'default'                                                                                          │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ dataset_path           │ './data/test.json'                                                                                 │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ export_path            │ './output/test.jsonl'                                                                              │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ export_shard_size      │ 0                                                                                                  │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ export_in_parallel     │ False                                                                                              │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ keep_stats_in_res_ds   │ False                                                                                              │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ keep_hashes_in_res_ds  │ False                                                                                              │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ np                     │ 4                                                                                                  │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ text_keys              │ 'content'                                                                                          │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ image_key              │ 'images'                                                                                           │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ image_special_token    │ '<__dj__image>'                                                                                    │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ eoc_special_token      │ '<|__dj__eoc|>'                                                                                    │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ suffixes               │ []                                                                                                 │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ use_cache              │ True                                                                                               │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ ds_cache_dir           │ PosixPath('/home/kyuheon/.cache/huggingface/datasets')                                             │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ cache_compress         │ None                                                                                               │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ use_checkpoint         │ False                                                                                              │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ temp_dir               │ None                                                                                               │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ open_tracer            │ False                                                                                              │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ op_list_to_trace       │ []                                                                                                 │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ trace_num              │ 10                                                                                                 │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ op_fusion              │ False                                                                                              │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ process                │ [{'alphanumeric_filter': {'image_key': 'images',                                                   │
│                        │                           'max_ratio': 0.9,                                                        │
│                        │                           'min_ratio': 0.0,                                                        │
│                        │                           'text_key': 'content',                                                   │
│                        │                           'tokenization': True}}]                                                  │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ save_stats_in_one_file │ False                                                                                              │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ ray_address            │ 'auto'                                                                                             │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ work_dir               │ './output'                                                                                         │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ timestamp              │ '20231213143514'                                                                                   │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ dataset_dir            │ '/home/kyuheon/jy_workspace/reboott_llm_pipeline/data-juicer/data'                                 │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ add_suffix             │ False                                                                                              │
╘════════════════════════╧════════════════════════════════════════════════════════════════════════════════════════════════════╛
Namespace(add_suffix=False, alphanumeric_filter=Namespace(image_key=None, max_ratio=9223372036854775807, min_ratio=0.25, text_key=None, tokenization=False), average_line_length_filter=Namespace(image_key=None, max_len=9223372036854775807, min_len=10, text_key=None), cache_compress=None, character_repetition_filter=Namespace(image_key=None, max_ratio=0.5, min_ratio=0.0, rep_len=10, text_key=None), chinese_convert_mapper=Namespace(image_key=None, mode='s2t', text_key=None), clean_copyright_mapper=Namespace(image_key=None, text_key=None), clean_email_mapper=Namespace(image_key=None, text_key=None), clean_html_mapper=Namespace(image_key=None, text_key=None), clean_ip_mapper=Namespace(image_key=None, text_key=None), clean_links_mapper=Namespace(image_key=None, text_key=None), config=[Path_fr(./configs/process.yaml, cwd=/home/kyuheon/jy_workspace/reboott_llm_pipeline/data-juicer)], dataset_dir='/home/kyuheon/jy_workspace/reboott_llm_pipeline/data-juicer/data', dataset_path='./data/test.json', document_deduplicator=Namespace(ignore_non_character=False, image_key=None, lowercase=False, text_key=None), document_minhash_deduplicator=Namespace(ignore_pattern=None, image_key=None, jaccard_threshold=0.7, lowercase=True, num_bands=None, num_permutations=256, num_rows_per_band=None, text_key=None, tokenization='space', window_size=5), document_simhash_deduplicator=Namespace(hamming_distance=4, ignore_pattern=None, image_key=None, lowercase=True, num_blocks=6, text_key=None, tokenization='space', window_size=6), ds_cache_dir=PosixPath('/home/kyuheon/.cache/huggingface/datasets'), eoc_special_token='<|__dj__eoc|>', executor_type='default', expand_macro_mapper=Namespace(image_key=None, text_key=None), export_in_parallel=False, export_path='./output/test.jsonl', export_shard_size=0, face_area_filter=Namespace(any_or_all='any', image_key=None, max_ratio=0.4, min_ratio=0.0, text_key=None), fix_unicode_mapper=Namespace(image_key=None, text_key=None), flagged_words_filter=Namespace(flagged_words_dir='/home/kyuheon/.cache/data_juicer/assets', image_key=None, lang='en', max_ratio=0.045, text_key=None, tokenization=False, use_words_aug=False, words_aug_group_sizes=[2], words_aug_join_char=''), frequency_specified_field_selector=Namespace(field_key='', image_key=None, reverse=True, text_key=None, top_ratio=None, topk=None), hpo_config=None, image_aspect_ratio_filter=Namespace(any_or_all='any', image_key=None, max_ratio=3.0, min_ratio=0.333, text_key=None), image_deduplicator=Namespace(image_key=None, method='phash', text_key=None), image_key='images', image_shape_filter=Namespace(any_or_all='any', image_key=None, max_height=9223372036854775807, max_width=9223372036854775807, min_height=1, min_width=1, text_key=None), image_size_filter=Namespace(any_or_all='any', image_key=None, max_size='1TB', min_size='0', text_key=None), image_special_token='<__dj__image>', image_text_matching_filter=Namespace(any_or_all='any', hf_blip='Salesforce/blip-itm-base-coco', horizontal_flip=False, image_key=None, max_score=1.0, min_score=0.003, reduce_mode='avg', text_key=None, vertical_flip=False), image_text_similarity_filter=Namespace(any_or_all='any', hf_clip='openai/clip-vit-base-patch32', horizontal_flip=False, image_key=None, max_score=1.0, min_score=0.1, reduce_mode='avg', text_key=None, vertical_flip=False), keep_hashes_in_res_ds=False, keep_stats_in_res_ds=False, language_id_score_filter=Namespace(image_key=None, lang='', min_score=0.8, text_key=None), maximum_line_length_filter=Namespace(image_key=None, max_len=9223372036854775807, min_len=10, text_key=None), nlpaug_en_mapper=Namespace(aug_num=1, delete_random_char=False, delete_random_word=False, image_key=None, insert_random_char=False, keyboard_error_char=False, ocr_error_char=False, sequential=False, spelling_error_word=False, split_random_word=False, swap_random_char=False, swap_random_word=False, text_key=None), nlpcda_zh_mapper=Namespace(aug_num=1, delete_random_char=False, image_key=None, replace_equivalent_num=False, replace_homophone_char=False, replace_similar_word=False, sequential=False, swap_random_char=False, text_key=None), np=4, op_fusion=False, op_list_to_trace=[], open_tracer=False, perplexity_filter=Namespace(image_key=None, lang='en', max_ppl=1500, text_key=None), process=[{'alphanumeric_filter': {'tokenization': True, 'min_ratio': 0.0, 'max_ratio': 0.9, 'text_key': 'content', 'image_key': 'images'}}], project_name='demo-process', punctuation_normalization_mapper=Namespace(image_key=None, text_key=None), ray_address='auto', remove_bibliography_mapper=Namespace(image_key=None, text_key=None), remove_comments_mapper=Namespace(doc_type='tex', image_key=None, inline=True, multiline=True, text_key=None), remove_header_mapper=Namespace(drop_no_head=True, image_key=None, text_key=None), remove_long_words_mapper=Namespace(image_key=None, max_len=9223372036854775807, min_len=1, text_key=None), remove_non_chinese_character_mapper=Namespace(image_key=None, keep_alphabet=True, keep_number=True, keep_punc=True, text_key=None), remove_specific_chars_mapper=Namespace(chars_to_remove='◆●■►▼▲▴∆▻▷❖♡□', image_key=None, text_key=None), remove_table_text_mapper=Namespace(image_key=None, max_col=20, min_col=2, text_key=None), remove_words_with_incorrect_substrings_mapper=Namespace(image_key=None, lang='en', substrings=None, text_key=None, tokenization=False), save_stats_in_one_file=False, sentence_split_mapper=Namespace(image_key=None, lang='en', text_key=None), special_characters_filter=Namespace(image_key=None, max_ratio=0.25, min_ratio=0.0, text_key=None), specified_field_filter=Namespace(field_key='', image_key=None, target_value=[], text_key=None), specified_numeric_field_filter=Namespace(field_key='', image_key=None, max_value=9223372036854775807, min_value=-9223372036854775807, text_key=None), stopwords_filter=Namespace(image_key=None, lang='en', min_ratio=0.3, stopwords_dir='/home/kyuheon/.cache/data_juicer/assets', text_key=None, tokenization=False, use_words_aug=False, words_aug_group_sizes=[2], words_aug_join_char=''), suffix_filter=Namespace(image_key=None, suffixes=[], text_key=None), suffixes=[], temp_dir=None, text_action_filter=Namespace(image_key=None, lang='en', min_action_num=1, text_key=None), text_entity_dependency_filter=Namespace(any_or_all='all', image_key=None, lang='en', min_dependency_num=1, text_key=None), text_keys='content', text_length_filter=Namespace(image_key=None, max_len=9223372036854775807, min_len=10, text_key=None), timestamp='20231213143514', token_num_filter=Namespace(hf_tokenizer='EleutherAI/pythia-6.9b-deduped', image_key=None, max_num=9223372036854775807, min_num=10, text_key=None), topk_specified_field_selector=Namespace(field_key='', image_key=None, reverse=True, text_key=None, top_ratio=None, topk=None), trace_num=10, use_cache=True, use_checkpoint=False, whitespace_normalization_mapper=Namespace(image_key=None, text_key=None), word_repetition_filter=Namespace(image_key=None, lang='en', max_ratio=0.5, min_ratio=0.0, rep_len=10, text_key=None, tokenization=False), words_num_filter=Namespace(image_key=None, lang='en', max_num=9223372036854775807, min_num=10, text_key=None, tokenization=False), work_dir='./output')
