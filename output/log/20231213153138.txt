2023-12-13 15:31:38.405 | INFO     | data_juicer.config.config:config_backup:398 - Back up the input config file [/home/kyuheon/jy_workspace/reboott_llm_pipeline/data-juicer/./configs/process.yaml] into the work_dir [./output]
2023-12-13 15:31:38.412 | INFO     | data_juicer.config.config:display_config:417 - Configuration table: 
╒════════════════════════╤════════════════════════════════════════════════════════════════════════════════════════════════════╕
│ key                    │ values                                                                                             │
╞════════════════════════╪════════════════════════════════════════════════════════════════════════════════════════════════════╡
│ config                 │ [Path_fr(./configs/process.yaml, cwd=/home/kyuheon/jy_workspace/reboott_llm_pipeline/data-juicer)] │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ project_name           │ 'demo-process'                                                                                     │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ executor_type          │ 'default'                                                                                          │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ dataset_path           │ './data/test.json'                                                                                 │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ export_path            │ './output/test.jsonl'                                                                              │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ export_shard_size      │ 0                                                                                                  │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ export_in_parallel     │ False                                                                                              │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ np                     │ 1                                                                                                  │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ text_keys              │ 'content'                                                                                          │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ suffixes               │ []                                                                                                 │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ use_cache              │ True                                                                                               │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ ds_cache_dir           │ PosixPath('/home/kyuheon/.cache/huggingface/datasets')                                             │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ cache_compress         │ None                                                                                               │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ use_checkpoint         │ False                                                                                              │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ temp_dir               │ None                                                                                               │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ open_tracer            │ False                                                                                              │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ op_list_to_trace       │ []                                                                                                 │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ trace_num              │ 10                                                                                                 │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ op_fusion              │ False                                                                                              │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ process                │ [{'alphanumeric_filter': {'max_ratio': 0.9,                                                        │
│                        │                           'min_ratio': 0.0,                                                        │
│                        │                           'text_key': 'content',                                                   │
│                        │                           'tokenization': True}}]                                                  │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ save_stats_in_one_file │ False                                                                                              │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ ray_address            │ 'auto'                                                                                             │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ work_dir               │ './output'                                                                                         │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ timestamp              │ '20231213153138'                                                                                   │
├────────────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────┤
│ add_suffix             │ False                                                                                              │
╘════════════════════════╧════════════════════════════════════════════════════════════════════════════════════════════════════╛
2023-12-13 15:31:38.413 | INFO     | data_juicer.core.executor:__init__:40 - Using cache compression method: [None]
2023-12-13 15:31:38.413 | INFO     | data_juicer.core.executor:__init__:45 - Setting up data formatter...
2023-12-13 15:31:38.413 | INFO     | data_juicer.core.executor:__init__:67 - Preparing exporter...
2023-12-13 15:31:38.414 | INFO     | data_juicer.core.executor:run:96 - Loading dataset from data formatter...
2023-12-13 15:31:39.202 | INFO     | logging:handle:954 - Found cached dataset json (/home/kyuheon/.cache/huggingface/datasets/json/default-162365534be67af3/0.0.0/fe5dd6ea2639a6df622901539cb550cf8797e5a6b2dd7af1cf934bed8e233e6e)
  0%|          | 0/1 [00:00<?, ?it/s]100%|##########| 1/1 [00:00<00:00, 552.10it/s]
2023-12-13 15:31:39.208 | INFO     | data_juicer.format.formatter:unify_format:173 - Unifying the input dataset formats...
2023-12-13 15:31:39.208 | INFO     | data_juicer.format.formatter:unify_format:188 - There are 8 sample(s) in the original dataset.
Filter:   0%|          | 0/8 [00:00<?, ? examples/s]                                                    2023-12-13 15:31:39.219 | INFO     | data_juicer.format.formatter:unify_format:202 - 8 samples left after filtering empty text.
2023-12-13 15:31:39.220 | INFO     | data_juicer.format.mixture_formatter:load_dataset:95 - sampled 8 from 8 with weight 1.0
2023-12-13 15:31:39.222 | INFO     | data_juicer.format.mixture_formatter:load_dataset:101 - There are 8 in final dataset
2023-12-13 15:31:39.222 | INFO     | data_juicer.core.executor:run:102 - Preparing process operators...
2023-12-13 15:31:39.278 | INFO     | logging:handle:954 - None of PyTorch, TensorFlow >= 2.0, or Flax have been found. Models won't be available and only tokenizers, configuration and file/data utilities can be used.
2023-12-13 15:31:39.376 | INFO     | data_juicer.utils.model_utils:prepare_huggingface_tokenizer:180 - Loading tokenizer from HuggingFace...
2023-12-13 15:31:39.741 | INFO     | data_juicer.core.executor:run:109 - Processing data...
Flattening the indices:   0%|          | 0/8 [00:00<?, ? examples/s]                                                                    /home/kyuheon/.virtualenvs/PKNU/lib/python3.8/site-packages/datasets/table.py:1373: FutureWarning: promote has been superseded by mode='default'.
  return cls._concat_blocks(pa_tables_to_concat_vertically, axis=0)
alphanumeric_filter_compute_stats:   0%|          | 0/8 [00:00<?, ? examples/s]['T', 'od', 'ay', 'Ġis', 'ĠS', 'und', 'ay', 'Ġand', 'Ġit', "'", 's', 'Ġa', 'Ġh', 'app', 'y', 'Ġd', 'ay', '!']
16 18
--------------------------
['D', 'o', 'Ġyou', 'Ġn', 'e', 'ed', 'Ġa', 'Ġc', 'up', 'Ġof', 'Ġ', 'co', 'ff', 'ee', '?']
14 15
--------------------------
['ä½', 'ł', 'å¥', '½', 'ï¼Į', 'è', '¯', '·', 'é', 'Ĺ', '®', 'ä½', 'ł', 'æĺ', '¯', 'è', '°', 'ģ']
8 18
--------------------------
['S', 'ur', 'Ġl', 'a', 'Ġp', 'l', 'ate', 'form', 'e', 'ĠM', 'T', '4', ',', 'Ġp', 'l', 'us', 'ie', 'ur', 's', 'Ġm', 'an', 'i', 'Ã', '¨', 're', 's', 'Ġd', "'", 'ac', 'c', 'Ã', '©', 'd', 'er', 'Ġ', 'Ã', 'ł', 'Ġc', 'es', 'Ġf', 'on', 'ction', 'n', 'al', 'it', 'Ã', '©', 's', 'Ġs', 'ont', 'Ġc', 'on', 'Ã', '§', 'u', 'es', 'Ġs', 'im', 'ult', 'an', 'Ã', '©', 'ment', '.']
55 64
--------------------------
['æ¬', '¢', 'è¿', 'İ', 'æĿ', '¥', 'åĪ', '°', 'é', 'ĺ', '¿', 'é', 'ĩĮ', 'å·', '´', 'å·', '´', 'ï¼', 'ģ']
8 19
--------------------------
['Th', 'is', 'Ġp', 'ap', 'er', 'Ġp', 'ro', 'p', 'o', 'se', 'd', 'Ġa', 'Ġn', 'ov', 'el', 'Ġm', 'et', 'h', 'od', 'Ġon', 'ĠL', 'L', 'M', 'Ġp', 're', 't', 'ra', 'in', 'ing', '.']
29 30
--------------------------
['ë³¸', 'Ġëħ¼ë¬¸', 'ìĹĲìĦľ', 'ëĬĶ', 'ĠL', 'L', 'M', 'ĠìĤ¬ìłĦ', 'íĽĪëł¨', 'ìĹĲ', 'Ġê´Ģíķľ', 'ĠìĥĪë¡ľìļ´', 'Ġë°©ë²ķ', 'ìĿĦ', 'ĠìłľìķĪ', 'íķĺ', 'ìĺĢ', 'ìĬµëĭĪëĭ¤', '.']
10 19
--------------------------
['ìłľê¸°', 'ëŀĦ', 'Ġìĸ´ìłľ', 'Ġëħ¸', 'ëĬĶ', 'Ġë°ĶëŀĮ', 'ìĹĲ', 'ĠìĭľíĹĺ', 'ìĹĲ', 'Ġë§Ŀ', 'ì³Ĳ', 'ë²Ħëł¸', 'ìĸ´', '.']
5 14
--------------------------
                                                                               alphanumeric_filter_process:   0%|          | 0/8 [00:00<?, ? examples/s]                                                                         2023-12-13 15:31:39.823 | INFO     | data_juicer.core.executor:run:188 - Op [alphanumeric_filter] Done in 0.080(s). Left 6 samples.
2023-12-13 15:31:39.823 | INFO     | data_juicer.core.executor:run:192 - All Ops are done in 0.081(s).
2023-12-13 15:31:39.823 | INFO     | data_juicer.core.executor:run:195 - Exporting dataset to disk...
2023-12-13 15:31:39.823 | INFO     | data_juicer.core.exporter:_export_impl:106 - Export dataset into a single file...
Creating json from Arrow format:   0%|          | 0/1 [00:00<?, ?ba/s]Creating json from Arrow format: 100%|##########| 1/1 [00:00<00:00, 190.31ba/s]
Creating json from Arrow format:   0%|          | 0/1 [00:00<?, ?ba/s]Creating json from Arrow format: 100%|##########| 1/1 [00:00<00:00, 840.71ba/s]
